<html>
<head>
<title>rabbyt.collisions - Rabbyt Reference</title>
</head>
<body>

<a href="../../rabbyt/">Documentation Index</a>
<h1>rabbyt.collisions</h1>
<p>This module provides some functions for collision detection.</p>







<div class="section">
<h2>Functions</h2>

<div class="section">
    <h3 >collide</h3>
    <p><tt class="docutils literal"><span class="pre">collide(objects)</span> <span class="pre">-&gt;</span> <span class="pre">list</span> <span class="pre">of</span> <span class="pre">collisions</span></tt></p>
<p>Collides <tt class="docutils literal"><span class="pre">objects</span></tt>, first using <tt class="docutils literal"><span class="pre">rdc()</span></tt> and then using
<tt class="docutils literal"><span class="pre">brute_force()</span></tt>.</p>
<p>Each object should have the attributes <tt class="docutils literal"><span class="pre">x</span></tt>, <tt class="docutils literal"><span class="pre">y</span></tt>, <tt class="docutils literal"><span class="pre">bounding_radius</span></tt>,
and <tt class="docutils literal"><span class="pre">bounding_radius_squared</span></tt>.</p>

</div>

<div class="section">
    <h3 >collide_single</h3>
    <p><tt class="docutils literal"><span class="pre">collide_single(single,</span> <span class="pre">objects)</span></tt></p>
<p>Finds collisions between a single object and a list of objects.</p>
<p><tt class="docutils literal"><span class="pre">single</span></tt> can either be an object with <tt class="docutils literal"><span class="pre">x</span></tt>, <tt class="docutils literal"><span class="pre">y</span></tt>, and
<tt class="docutils literal"><span class="pre">bounding_radius</span></tt> attributes, or a tuple of <tt class="docutils literal"><span class="pre">(x,y,</span> <span class="pre">bounding_radius)</span></tt>
(In both cases, <tt class="docutils literal"><span class="pre">bounding_radius</span></tt> is optional and defaults to <tt class="docutils literal"><span class="pre">0</span></tt>.)</p>

</div>

<div class="section">
    <h3 >collide_groups</h3>
    <p><tt class="docutils literal"><span class="pre">collide_groups(group_a,</span> <span class="pre">group_b)</span></tt></p>
<p>Returns a list of collisions between objects in <tt class="docutils literal"><span class="pre">group_a</span></tt> with objects
in <tt class="docutils literal"><span class="pre">group_b</span></tt>.</p>
<p>All objects must either have <tt class="docutils literal"><span class="pre">x</span></tt>, <tt class="docutils literal"><span class="pre">y</span></tt>, and (optionally)
<tt class="docutils literal"><span class="pre">bounding_radius</span></tt> attributes <em>or</em> behave like a tuple with the form
<tt class="docutils literal"><span class="pre">(x,</span> <span class="pre">y,</span> <span class="pre">bounding_radius)</span></tt> or <tt class="docutils literal"><span class="pre">(x,</span> <span class="pre">y)</span></tt>.</p>
<p>If <tt class="docutils literal"><span class="pre">bounding_radius</span></tt> is missing it will default to <tt class="docutils literal"><span class="pre">0</span></tt>.</p>

</div>

<div class="section">
    <h3 >aabb_collide</h3>
    <p><tt class="docutils literal"><span class="pre">aabb_collide(objects)</span></tt></p>
<p><tt class="docutils literal"><span class="pre">aabb_collide</span></tt> works similar to <tt class="docutils literal"><span class="pre">collide</span></tt>,  but instead of using
bounding radius it uses axis aligned bounding boxes [AABB].</p>
<p>All objects must have <tt class="docutils literal"><span class="pre">left</span></tt>, <tt class="docutils literal"><span class="pre">top</span></tt>, <tt class="docutils literal"><span class="pre">right</span></tt>, and <tt class="docutils literal"><span class="pre">bottom</span></tt>
attributes.</p>

</div>

<div class="section">
    <h3 >aabb_collide_single</h3>
    <p><tt class="docutils literal"><span class="pre">aabb_collide_single(single,</span> <span class="pre">objects)</span></tt></p>
<p>Finds all objects in <tt class="docutils literal"><span class="pre">objects</span></tt> that collide with <tt class="docutils literal"><span class="pre">single</span></tt>, (using
bounding boxes.)</p>
<p>All objects must have <tt class="docutils literal"><span class="pre">left</span></tt>, <tt class="docutils literal"><span class="pre">top</span></tt>, <tt class="docutils literal"><span class="pre">right</span></tt>, and <tt class="docutils literal"><span class="pre">bottom</span></tt>
attributes.</p>
<p>A list of all objects from <tt class="docutils literal"><span class="pre">objects</span></tt> that collide with <tt class="docutils literal"><span class="pre">single</span></tt> is
returned.</p>

</div>

<div class="section">
    <h3 >aabb_collide_groups</h3>
    <p><tt class="docutils literal"><span class="pre">aabb_collide_groups(group_a,</span> <span class="pre">group_b)</span></tt></p>
<p>Returns a list of collisions between objects in <tt class="docutils literal"><span class="pre">group_a</span></tt> with objects
in <tt class="docutils literal"><span class="pre">group_b</span></tt>.</p>
<p>All objects must have <tt class="docutils literal"><span class="pre">left</span></tt>, <tt class="docutils literal"><span class="pre">top</span></tt>, <tt class="docutils literal"><span class="pre">right</span></tt>, and <tt class="docutils literal"><span class="pre">bottom</span></tt>
attributes.</p>

</div>

<div class="section">
    <h3 >rdc</h3>
    <p><tt class="docutils literal"><span class="pre">rdc(objects,</span> <span class="pre">[max_depth,]</span> <span class="pre">[min_split])</span> <span class="pre">-&gt;</span> <span class="pre">list</span> <span class="pre">of</span> <span class="pre">collision</span> <span class="pre">groups</span></tt></p>
<p>Uses the Recursive Dimensional Clustering algorithm to find groups of
colliding objects.</p>
<p><tt class="docutils literal"><span class="pre">objects</span></tt> should be a list of objects.  Each object should have the
attributes <tt class="docutils literal"><span class="pre">x</span></tt>, <tt class="docutils literal"><span class="pre">y</span></tt>, and <tt class="docutils literal"><span class="pre">bounding_radius</span></tt>.</p>
<p>If the number of objects in a collision group is less than <tt class="docutils literal"><span class="pre">min_split</span></tt>,
recursion will stop.  This defaults to <tt class="docutils literal"><span class="pre">1</span></tt>, but in practice, it is
usually faster to just use a brute force method once a group gets down
to <tt class="docutils literal"><span class="pre">10</span></tt> objects.</p>
<p><tt class="docutils literal"><span class="pre">max_depth</span></tt> is the maximum number of recursions to make.  It defaults to
<tt class="docutils literal"><span class="pre">0</span></tt>, which is infinite.</p>
<p>Instead of returning individual collisions, <tt class="docutils literal"><span class="pre">rdc()</span></tt> returns groups
(lists) of colliding objects.  For example, if <tt class="docutils literal"><span class="pre">A</span></tt> collides with <tt class="docutils literal"><span class="pre">B</span></tt>
and <tt class="docutils literal"><span class="pre">B</span></tt> collides with <tt class="docutils literal"><span class="pre">C</span></tt>, one of the groups will be <tt class="docutils literal"><span class="pre">[A,</span> <span class="pre">B,</span> <span class="pre">C]</span></tt>,
even though <tt class="docutils literal"><span class="pre">A</span></tt> and <tt class="docutils literal"><span class="pre">C</span></tt> don't directly collide.</p>
<p>Also, each object is returned at most once.  If it is in one group, it won't
be in any other.  An object without any collisions isn't returned at all.</p>

</div>

<div class="section">
    <h3 >brute_force</h3>
    <p><tt class="docutils literal"><span class="pre">brute_force(objects)</span> <span class="pre">-&gt;</span> <span class="pre">list</span> <span class="pre">of</span> <span class="pre">collisions</span></tt></p>
<p>Finds collisions between <tt class="docutils literal"><span class="pre">objects</span></tt> using a brute force algorithm.</p>
<p><tt class="docutils literal"><span class="pre">objects</span></tt> should be a list of objects, each of which have the attributes
<tt class="docutils literal"><span class="pre">x</span></tt>, <tt class="docutils literal"><span class="pre">y</span></tt>, and <tt class="docutils literal"><span class="pre">bounding_radius_squared</span></tt>.  Each object is checked
against every other object.</p>
<p>For example, if <tt class="docutils literal"><span class="pre">A</span></tt> collides with <tt class="docutils literal"><span class="pre">B</span></tt>, <tt class="docutils literal"><span class="pre">B</span></tt> collides with <tt class="docutils literal"><span class="pre">C</span></tt>, and
<tt class="docutils literal"><span class="pre">D</span></tt> doesn't collide with anything, the result will be:
<tt class="docutils literal"><span class="pre">[(A,</span> <span class="pre">B),</span> <span class="pre">(B,</span> <span class="pre">C)]</span></tt>.</p>

</div>

</div>



</body>
</html>